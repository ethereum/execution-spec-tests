
<!DOCTYPE html>
<html lang="en-us">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Types of Test - EEST Docs</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
        }
        
         
        .top-nav {
            background-color: #2c3e50;
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .nav-container {
            max-width: 1800px;   
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-brand {
            font-size: 1.5rem;
            font-weight: bold;
            text-decoration: none;
            color: white;
        }
        
        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
            flex-wrap: wrap;
        }
        
        .nav-menu a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        
        .nav-menu a:hover,
        .nav-menu a.active {
            background-color: rgba(255,255,255,0.1);
        }
        
         
        .main-container {
            display: flex;
            max-width: 1800px;   
            margin: 0 auto;
            padding: 2rem 3rem;   
            gap: 2rem;
        }
        
         
        .sidebar {
            flex: 0 0 250px;
            position: sticky;
            top: 80px;  
            height: calc(100vh - 100px);
            overflow-y: auto;
            background-color: #f8f8f8;
            transition: transform 0.3s ease;
        }
        
         
        .content {
            flex: 1;
            min-width: 0;
            max-width: 100%;
            padding: 0 2rem;   
            transition: margin-left 0.3s ease, width 0.3s ease;
        }
        
         
        .content img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 1.5rem auto;
        }
        
         
        .content article,
        .content > div {
            max-width: 100%;
        }
        
        .content h1 {
            margin-bottom: 1rem;
            color: #2c3e50;
        }
        
        .content h2 {
            margin-top: 2rem;
            margin-bottom: 1rem;
            color: #34495e;
        }
        
        .content h3 {
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            color: #34495e;
        }
        
        .content pre {
            background-color: #f4f4f4;
            padding: 1rem;
            border-radius: 4px;
            overflow-x: auto;
            margin: 1rem 0;
        }
        
        .content code {
            background-color: #f4f4f4;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-size: 0.9em;
        }
        
        .content pre code {
            background-color: transparent;
            padding: 0;
        }
        
         
        @media (max-width: 1024px) {
            .sidebar {
                position: fixed;
                left: 0;
                top: 60px;
                transform: translateX(-100%);
                z-index: 999;
            }
            
            .content {
                margin-left: 0;
                width: 100%;
                padding: 0 1rem;   
            }
            
            .main-container {
                flex-direction: column;
                padding: 1rem;   
            }
            
            .nav-menu {
                flex-direction: column;
                gap: 0.5rem;
            }
        }
        
         
        @media (min-width: 1600px) {
            .sidebar {
                flex: 0 0 300px;
            }
            
            .main-container {
                max-width: 90%;   
            }
        }
        
         
        @media (min-width: 1920px) {
            .content {
                padding: 2rem 4rem;
            }
        }
    </style>

    
    <link rel="stylesheet" href="http://localhost:1313/css/callouts.css">
<link rel="stylesheet" href="http://localhost:1313/css/sidebar.css">

</head>
<body>
       

        
        <nav class="top-nav">
            <div class="nav-container">
                <a href="/" class="nav-brand">EEST Docs</a>
                <ul class="nav-menu">
                    
                    
                        
                            <li>
                                <a href="/main/main/" 
                                   >
                                    Execution Spec Tests
                                </a>
                            </li>
                        
                    
                        
                            <li>
                                <a href="/main/getting_started/main/" 
                                   >
                                    Getting Started
                                </a>
                            </li>
                        
                    
                        
                            <li>
                                <a href="/main/writing_tests/main/" 
                                   >
                                    Writing Tests
                                </a>
                            </li>
                        
                    
                        
                            <li>
                                <a href="/main/filling_tests/main/" 
                                   >
                                    Filling Tests
                                </a>
                            </li>
                        
                    
                        
                            <li>
                                <a href="/main/running_tests/main/" 
                                   >
                                    Running Tests
                                </a>
                            </li>
                        
                    
                        
                            <li>
                                <a href="/main/dev_docs/main/" 
                                   >
                                    Developer Doc
                                </a>
                            </li>
                        
                    
                        
                            <li>
                                <a href="/main/changelog/" 
                                   >
                                    Changelog
                                </a>
                            </li>
                        
                    
                </ul>
            </div>
        </nav>
    
    
    <div class="main-container">
        <aside class="sidebar">
            
  
<nav style="background:#f5f5f5;padding:1.5rem;border-radius:8px;position:sticky;top:2rem;max-height:calc(100vh - 4rem);overflow-y:auto;">
  

  
  
  
    
  

  
  
  
    
  

  
  <h3 style="margin-top:0;padding-bottom:.5rem;border-bottom:2px solid #ddd;">Writing Tests</h3>

  
  
  
    
      
      
      
        
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
        
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
        
      
    
  
    
      
      
      
    
  
    
      
      
      
        
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
        
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
        
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
        
      
    
  
    
      
      
      
        
      
    
  
    
      
      
      
        
      
    
  
    
      
      
      
        
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
        
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  

  
  
  

  <ul style="list-style:none;padding:0;margin:1rem 0;">
    
    
      <li style="margin:.5rem 0;">
        <a href="/main/writing_tests/main/"
           style="display:block;padding:.75rem;border-radius:4px;text-decoration:none;transition:all .2s;
                  
                    color:#333;background-color:#fff;border:1px solid #e0e0e0;
                  ">
          Writing Tests
          <span style="font-size:.8em;opacity:.7;display:block;">Entry Point</span>
        </a>
      </li>
    

    
    
      <li style="margin:.5rem 0;">
        <a href="/main/writing_tests/adding_a_new_test/"
           style="display:block;padding:.75rem;border-radius:4px;text-decoration:none;transition:all .2s;
                  
                    color:#333;background-color:#fff;border:1px solid #e0e0e0;
                  ">
          üìÑ Adding a New Test
        </a>
      </li>
    
      <li style="margin:.5rem 0;">
        <a href="/main/writing_tests/types_of_tests/"
           style="display:block;padding:.75rem;border-radius:4px;text-decoration:none;transition:all .2s;
                  
                    background-color:#007bff;color:#fff;font-weight:bold;
                  ">
          üìÑ Types of Test
        </a>
      </li>
    
      <li style="margin:.5rem 0;">
        <a href="/main/writing_tests/writing_a_new_test/"
           style="display:block;padding:.75rem;border-radius:4px;text-decoration:none;transition:all .2s;
                  
                    color:#333;background-color:#fff;border:1px solid #e0e0e0;
                  ">
          üìÑ Writing a New Test
        </a>
      </li>
    
      <li style="margin:.5rem 0;">
        <a href="/main/writing_tests/test_markers/"
           style="display:block;padding:.75rem;border-radius:4px;text-decoration:none;transition:all .2s;
                  
                    color:#333;background-color:#fff;border:1px solid #e0e0e0;
                  ">
          üìÑ Test Markers
        </a>
      </li>
    
      <li style="margin:.5rem 0;">
        <a href="/main/writing_tests/exception_tests/"
           style="display:block;padding:.75rem;border-radius:4px;text-decoration:none;transition:all .2s;
                  
                    color:#333;background-color:#fff;border:1px solid #e0e0e0;
                  ">
          üìÑ Exception Tests
        </a>
      </li>
    
      <li style="margin:.5rem 0;">
        <a href="/main/writing_tests/fork_methods/"
           style="display:block;padding:.75rem;border-radius:4px;text-decoration:none;transition:all .2s;
                  
                    color:#333;background-color:#fff;border:1px solid #e0e0e0;
                  ">
          üìÑ Using and Extending Fork Methods
        </a>
      </li>
    
      <li style="margin:.5rem 0;">
        <a href="/main/writing_tests/reference_specification/"
           style="display:block;padding:.75rem;border-radius:4px;text-decoration:none;transition:all .2s;
                  
                    color:#333;background-color:#fff;border:1px solid #e0e0e0;
                  ">
          üìÑ Referencing an EIP Spec Version
        </a>
      </li>
    
      <li style="margin:.5rem 0;">
        <a href="/main/writing_tests/eip_checklist/"
           style="display:block;padding:.75rem;border-radius:4px;text-decoration:none;transition:all .2s;
                  
                    color:#333;background-color:#fff;border:1px solid #e0e0e0;
                  ">
          üìÑ EIP Checklist Generation
        </a>
      </li>
    
      <li style="margin:.5rem 0;">
        <a href="/main/writing_tests/post_mortems/"
           style="display:block;padding:.75rem;border-radius:4px;text-decoration:none;transition:all .2s;
                  
                    color:#333;background-color:#fff;border:1px solid #e0e0e0;
                  ">
          üìÑ Post-Mortems
        </a>
      </li>
    
      <li style="margin:.5rem 0;">
        <a href="/main/writing_tests/porting_legacy_tests/"
           style="display:block;padding:.75rem;border-radius:4px;text-decoration:none;transition:all .2s;
                  
                    color:#333;background-color:#fff;border:1px solid #e0e0e0;
                  ">
          üìÑ Porting Legacy Tests
        </a>
      </li>
    
  </ul>

  
  
  
  
    
      
      
        
        
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
        
        
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
        
        
      
    
  
    
      
      
    
  
    
      
      
        
        
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
        
        
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
        
        
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
        
        
      
    
  
    
      
      
        
        
      
    
  
    
      
      
        
        
      
    
  
    
      
      
        
        
      
    
  
    
      
      
    
  
    
      
      
        
        
          
          
            
            
          
        
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
        
        
          
          
            
            
          
        
      
    
  
    
      
      
        
        
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
        
        
          
          
        
      
    
  
    
      
      
        
        
          
          
        
      
    
  
    
      
      
        
        
          
          
        
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  

  
    <hr style="margin:1.5rem 0;border:none;border-top:1px solid #ddd;">
    <h4 style="margin-top:1rem;color:#666;font-size:.9em;">Subsections</h4>
    <ul style="list-style:none;padding:0;">
      
        <li style="margin:.5rem 0;">
          <a href="/main/writing_tests/checklist_templates/"
             style="display:block;padding:.5rem;color:#666;text-decoration:none;transition:all .2s;">
            üìÅ Checklist templates
          </a>
        </li>
      
        <li style="margin:.5rem 0;">
          <a href="/main/writing_tests/tutorials/"
             style="display:block;padding:.5rem;color:#666;text-decoration:none;transition:all .2s;">
            üìÅ Tutorials
          </a>
        </li>
      
    </ul>
  

  
  
    <hr style="margin:1.5rem 0;border:none;border-top:1px solid #ddd;">
    <h4 style="margin-top:1rem;color:#666;font-size:.9em;">Other Sections</h4>
    <ul style="list-style:none;padding:0;font-size:.9em;">
      
        <li style="margin:.25rem 0;">
          <a href="/main/main/" style="color:#666;text-decoration:none;">
            ‚Üí Execution Spec Tests
          </a>
        </li>
      
        <li style="margin:.25rem 0;">
          <a href="/main/getting_started/main/" style="color:#666;text-decoration:none;">
            ‚Üí Getting Started
          </a>
        </li>
      
        <li style="margin:.25rem 0;">
          <a href="/main/writing_tests/main/" style="color:#666;text-decoration:none;">
            ‚Üí Writing Tests
          </a>
        </li>
      
        <li style="margin:.25rem 0;">
          <a href="/main/filling_tests/main/" style="color:#666;text-decoration:none;">
            ‚Üí Filling Tests
          </a>
        </li>
      
        <li style="margin:.25rem 0;">
          <a href="/main/running_tests/main/" style="color:#666;text-decoration:none;">
            ‚Üí Running Tests
          </a>
        </li>
      
        <li style="margin:.25rem 0;">
          <a href="/main/dev_docs/main/" style="color:#666;text-decoration:none;">
            ‚Üí Developer Doc
          </a>
        </li>
      
        <li style="margin:.25rem 0;">
          <a href="/main/changelog/" style="color:#666;text-decoration:none;">
            ‚Üí Changelog
          </a>
        </li>
      
    </ul>
  
</nav>


        </aside>
        
        <main class="content">
            
  <div>
    <h2>Types of Test</h2>
    <h5></h5>
    
  </div>
  <div align="start" class="content"><p>There are currently three types of tests that can be produced by a test spec:</p>
<ol>
<li>State Tests</li>
<li>Blockchain Tests</li>
<li>Transaction Tests</li>
</ol>
<h2 id="state-tests">State Tests</h2>
<h3 id="purpose">Purpose</h3>
<p>Tests the effects of individual transactions (ideally a single one) that span a single block in a controlled environment.</p>
<h3 id="use-cases">Use cases</h3>
<ul>
<li>Test a single opcode behavior.</li>
<li>Verify opcode gas costs.</li>
<li>Test interactions between multiple smart contracts.</li>
<li>Test creation of smart contracts.</li>
</ul>


<div class="callout callout-info">
  <div class="callout-title">Info</div>
  <div class="callout-content">
    The fill function will automatically generate a <code>blockchain_test</code> fixture from <code>state_tests</code>, consisting of one block and one transaction.
  </div>
</div>
<h2 id="blockchain-tests">Blockchain Tests</h2>
<h3 id="purpose-1">Purpose</h3>
<p>Blockchain tests span multiple blocks which may or may not contain transactions and mainly focus on the block to block effects to the Ethereum state.</p>
<h3 id="use-cases-1">Use cases</h3>
<ul>
<li>Verify system-level operations such as coinbase balance updates or withdrawals.</li>
<li>Verify fork transitions.</li>
<li>Verify blocks with invalid transactions/properties are rejected.</li>
</ul>
<h3 id="fork-transition-tests">Fork Transition Tests</h3>
<p>There is a special type of blockchain test that is used to test a fork transition. It&rsquo;s not executed for all possible forks, rather it targets exactly the blocks at the point of transition from one evm implementation to the next. This type of test must be marked with the <code>valid_at_transition_to</code> marker, for example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@pytest.mark.valid_at_transition_to</span>(<span style="color:#e6db74">&#34;Cancun&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_blob_type_tx_pre_fork</span>(
</span></span><span style="display:flex;"><span>    blockchain_test: BlockchainTestFiller,
</span></span><span style="display:flex;"><span>    pre: Dict,
</span></span><span style="display:flex;"><span>    env: Environment,
</span></span><span style="display:flex;"><span>    blocks: List[Block],
</span></span><span style="display:flex;"><span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Reject blocks with blobs before blobs fork
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span></code></pre></div><h2 id="transaction-tests">Transaction Tests</h2>
<h3 id="purpose-2">Purpose</h3>
<p>Test correct transaction rejection/acceptance of a serialized transaction (currently RLP only).</p>
<h3 id="use-cases-2">Use cases</h3>
<ul>
<li>Verify that a badly formatted transaction is correctly rejected by the client.</li>
<li>Verify that a transaction with an invalid value in one of its fields is correctly rejected by the client.</li>
</ul>


<div class="callout callout-info">
  <div class="callout-title">Note</div>
  <div class="callout-content">
    Using the <code>execute</code> command, transaction tests can be sent to clients in a live network using the <code>eth_sendRawTransaction</code> endpoint.
  </div>
</div>
<h2 id="deciding-on-a-test-type">Deciding on a test type</h2>
<h3 id="prefer-state_test-for-single-transactions">Prefer <code>state_test</code> for single transactions</h3>
<p>Whenever possible, use <code>state_test</code> to examine individual transactions. This method is more straightforward and less prone to external influences that can occur during block building.</p>
<p>This provides more targeted testing since it does not invoke the client&rsquo;s block-building machinery. This reduces the risk of encountering false positives, particularly in exception scenarios (e.g., see issue <a href="https://github.com/ethereum/execution-spec-tests/issues/343" target="_blank" rel="noopener">#343: &ldquo;Zero max_fee_per_blob_gas test is ineffective&rdquo;</a>).</p>
<p>Moreover, the <code>fill</code> command automatically additionally generates a <code>blockchain_test</code> for every <code>state_test</code> by wrapping the <code>state_test</code>&rsquo;s transaction in a block.</p>
</div>

        </main>
    </div>
</body>
</html>